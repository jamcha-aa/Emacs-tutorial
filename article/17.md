

# 17 - カラフルリーディング

        メジャーモードが「メジャー」というからには「マイナーモード」もあります。
        マイナーモードはメジャーモードの代わりになるものではなく、それをちょっ
        とだけ修正するものです。各マイナーモードは、メジャーモードや他のマイナー
        モードに影響を与えずに、それだけをオンオフできます。つまり、マイナーモー
        ドを全く使わなかったり、一個だけ使ったり、いくつかを同時に使ったりでき
        るのです。

「マイナーモードは私も作ったことがある」「[auto-org-md](https://github.com/jamcha-aa/auto-org-md)だな」「私は[orgモード](https://orgmode.org/)で文章書いてるんだけど，当時GitHubはorgモードに対応してなかったと思う。だからいちいちmarkdownに変換する必要があった。でもそれが面倒だから，セーブするごとにC-c C-e m mを自動で実行するマイナーモードを作った」「ああ」「ほとんど初めてのlispだったけど，melpaのレビュアーの人がすごく親切だったおかげで，ちゃんとしたプログラムにできた。ありがとうございます」「本当にありがたいことだ」  

<br>  

    通常の文章を編集している時にとても便利なマイナーモードの一つにオートフィ
    ル（Auto Fill）モードというのがあります。このモードがオンの時に文章を
    入力していって行を長くしすぎた場合、自動的に単語と単語の間で行が分割さ
    れます（日本語の場合はどの文字の間でも。禁則処理もなされます）。
    
    Auto Fill モードは M-x auto-fill-mode <Return> とやればオンにできます。
    それがオンの状態で M-x auto-fill-mode <Return> とやれがオフにできます。
    このコマンドは、モードがオフならオンに、オンならオフにするのです。こう
    いうのを「モードをトグルする」と言います。
    
    >> M-x auto-fill-mode <Return> とタイプして、 "asdf " で始まる行を入力
       して下さい。行が分割されるまで何度も "asdf " とタイプしましょう。ス
       ペースを忘れずに。Auto Fill はスペースが入力された時のみ働きます。
    
    右マージンは通常 70 文字（カラム）ですが、C-x f コマンドでこれを変更す
    ることができます。指定の文字数を数値引数として与えます。
    
    >> 数値引数 20 で C-x f をやりましょう。 (C-u 2 0 C-x f)。
       それから適当な文章（英語）を入力し、20 文字で行が分割されるのを見て
       みましょう。それから C-x f コマンドでまたマージンを 70 文字に戻して
       下さい。

「Auto Fillが役立つのは自前で文書を公開するときくらい？こういうチュートリアルとか」「ほう」「GitHubのREADMEもGitBookも大体の長さで折り返してくれるし」「ふむ」「むしろレイアウトを編集すると編集さんが嫌がる」「だから君は折り返さないんだな」「うん」  

「会話文で改行しない理由はあるのか？」「理由は三つある。まず話すごとに改行してると誰が言ってるのかわからなくなる」「誰が」「私が」「あ…そう。カッコの前にキャラ名つけるのは？」「それが二つめの理由なんだけど，脚本とかTRPGのログみたいで物語読んでる感じがしない」「誰が」「私が」「ほ…ほう…。じゃあ三つめは？」「markdownは改行もインデントも反映してくれないから」  

「インデントはしてくれないが改行はしてくれるぞ」「え」「改行したあとに，半角スペース2個入れてみろ」  

<br>  
「…」  
「な？」  
「…うん」  
「まさか知らなかったのか？」  
「…うん」  
「…すまん。私がもっと早く伝えておくべきだった。君の独自表現だと思って…」  
「君のせいじゃないよ。私が無知だったから…。GitHubで小説なんてなまいきなことしてさ…」  
「…これ，今後も使っていくのか」「使わない。もう引き返せない。これが私のスタイルだから」「あ…そう」  

<br>  

    パラグラフの途中を変更しても Auto Fill モードはそれを自動的にフィルし
    直しはしません。
    パラグラフをフィルし直すにはカーソルをそのパラグラフの中に置いてから
    M-q をタイプします。
    
    >> カーソルをこの行直前のパラグラフに移動させ M-q とタイプして下さい。

「長い段落の文章書いてもM-qでキッチリ揃えてくれるから気持ちいい。でもWebに出力するときには足かせになることがある。ご利用は計画的に」  

<br>  
<br>  
(c) 2018 jamcha (jamcha.aa@gmail.com). (c) 1985, 1996, 1998, 2001-2018 Free Software Foundation, Inc.  

![GPL3](https://www.gnu.org/graphics/gplv3-88x31.png)  

