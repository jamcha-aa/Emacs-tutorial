

# 06 - い…引数

私がお腹をさすりながら席につくと，EeePCが不思議な様子でたずねる。「珍しいな，こんな夜更けに」「うん，晩ご飯食べすぎて寝れないの。だから眠くなるまでチュートリアルやろうと思って」  

「何を食べたんだ？」「えーとね，鶏肉のエビチリ風と，」「ふむ」「もやしとキャベツのスープと，あと，ゆかりご飯」「体調は元通りのようだな」「だいたいね」「無茶はするなよ。私と違って君の部品は交換できないんだからな」「…ありがと。でも君だってもう交換できる部品はないんだから」「私は君と違って頑丈だから平気だ。キーボードだけは壊れやすいが」「壊れる前に外付けキーボードで使っているから安心して」「うむ。だから心配は無用だ。存分に使ってくれ」「存分に使えるほどの性能があればね…」「おい，元気になった途端に憎まれ口か」  

<br>  
「早速前回のおさらいをしようと思ったんだけど」「うむ」「C-nとかM-fとかを修得したいなら[鬼軍曹.el](https://github.com/k1LoW/emacs-drill-instructor/wiki)があります」「なんだそれは」「矢印キーとかリターンキーが使えなくなる」「名前に違わぬスパルタだな」「[エディタの本](http://gihyo.jp/book/2016/978-4-7741-8007-6)でも紹介されてたし，頭で覚えるより動かして身につけましょう」「君は使ったのか？」「私は小説書きながら身につけました」「かなり特殊なケースだな」  

<br>  

    Emacsの大抵のコマンドには数値引数を与えることができます。大抵の場合こ
    の数値で繰り返し回数を指示することになります。数値引数を与えるには、コ
    マンドを入力する前に C-u に続いて数字を何桁かタイプします。もしメタキー
    が使えるなら、メタキーを押しながら数字をタイプすることもできます。でも
    やはり C-u を覚えることを勧めます。それはどんな端末でも使えるからです。
    数値引数は「前置引数」とも呼びます。実行したいコマンドの前にタイプする
    からです。
    
    例えば C-u 8 C-f とタイプすると８文字分先に移動します。
    
    >> 適当な数値引数を C-n あるいは C-p に与え、一回のコマンドでなるべく
       この行の近くに来るようにしてみましょう。

「初見でこの字 (『引数』のこと) を正しく読める人がいたら，その人は[馬のハンス](https://ja.wikipedia.org/wiki/%E8%B3%A2%E9%A6%AC%E3%83%8F%E3%83%B3%E3%82%B9)を守護霊に持っている可能性がある」「馬のハンスって何だ」「足し算ができる馬」「それはすごい」「本当は飼い主の反応を見てた」「じゃあ計算能力を持ってたわけじゃないんだな？」「うん」「それとその…君の言う熟語に何の関係があるんだ」「ほら，読めないでしょ」「ぐ…」  

私はニヤリとする。「私はハンスの飼い主じゃないからね。ヒントはあげないよ」「…」EeePCのCPU使用率が突如として急上昇する。「あ，検索したらダメだよ」気づかれたEeePC。「…君が問いを出すということは，『いんすう』ではないだろう，ということしかわからん…」「どう？降参する？」  

追い込まれたEeePC。しかしキャリア10年のベテランは踏んばった。「定義を教えてくれ」「いいよ。これはね，選択肢なの」「選択肢？」「果物を買うときに，いくつ買うか選べることがあるでしょ。服を買うときも，通販だと色を選べたり。そういう選択肢のこと」「ふむ」「それで，選んだ内容に応じて結果が変わってくる。金額とか，デザインとか」  

「ふむ，とすると，この "C-u 8 C-f" の "8" が選択肢にあたるわけだな？」「そうそう。それが6だと6文字進む」「20だと20字進む」「その通り」「それってパラメータ (媒介変数) のことじゃないのか？」「お」「ん？」「ご明察でございます」  

「これ，パラメータって読むのか？」「正しくは『ひきすう』なんだけど」「ひきすう」「でもよくわかったね」「媒介変数は常識だろう」「え」「？」「…」「まさか君は知らないのか？」「し，知ってるよ!数学で，昔…」「復習が大事なんだろう？」「…」「人間は忘れやすいんだろう？」「…」「青チャートが埃をかぶっているぞ」「ちょっと，余計なこと言わないでよ」  

<br>  

    大抵のコマンドは数値引数を繰り返し回数と解釈しますが、中には例外もあり
    ます。たとえば、コマンドによっては（これまでに学んだコマンドはどれも違
    いますが）、前置引数があるかないかだけが問題で、それがあるときは、実際
    に与えた数値には関係なく、通常とは異なる働きをします。
    
    C-v や M-v はまた違ったタイプの例外です。この場合、指定された数の行だ
    け画面をスクロールさせることになります。例えば C-u 8 C-v は画面を８行
    上にスクロールさせます。
    
    >> C-u 8 C-v を試してみましょう。
    
    画面が上に８行スクロールしたはずです。また画面を下にスクロールさせるには
    M-v に引数を与えればよいのです。

「C-uって[Emacsの本](https://www.oreilly.co.jp/books/9784873112770/)でも序盤に出てくるくらい基本の機能なんだけど，今まで使いこなせなかった」「これから使っていくんだろう？」「私みたいにプログラミングで使わなくても活躍するかな」「やらない理由なんていくらでも出てくるものだ。気をつけろ」「あれ？それ前に私言ったっけ」「君が流してるラジオで聞いた」  

「あ，私でも知ってるC-u使う便利な方法」「何だ」「あとで『マーク (C-SPC)』って機能が説明されると思うんだけど」「うむ」「C-u C-SPCでさっきマークした場所に帰ってこれる」「何が便利なんだ？」「読んでる途中で何か確認したいことがあって別の行にうつっても，C-u C-SPCですぐに戻って作業を再開できる」「ほう」「しかもマークした場所はファイル閉じるまでEmacsに記憶されてるから，ふせんみたいに使うこともできる」「付箋か。君の文章は短いものが多いが，活躍する機会はあるのか？」「ewwで長いWebページ読むときとか」「なるほど」  

「あとね，今調べてたんだけど」「うむ」「[同じコマンドでもC-uの有り無しで違うコマンドが実行できる](http://akisute3.hatenablog.com/entry/20111129/1322557154)の」「C-uの定義からするとそうなるな」「私いまC-x gでmagitが起動するんだけど，C-u C-x gで自動コミットできると面白いなって」「ふむ」「GitBookをビルドすると変更点が多くて」「ふむ」「magitのコミット画面が重くなっちゃう」「コミットに時間がかかるのが嫌だと」「そうそう。だからGitBookビルドしたら，C-u C-x gで直接コミットできればいいなって」「プログラムが完成したら公開するんだろう？」「もちろん」「楽しみだな」「君，人の話聞くの上手だね」「そうか？」  

<br>  
<br>  
(c) 2018 jamcha (jamcha.aa@gmail.com). (c) 1985, 1996, 1998, 2001-2018 Free Software Foundation, Inc.  

![GPL3](https://www.gnu.org/graphics/gplv3-88x31.png)  

